	.data
buf:	.space	64
format: .asciz "%d\n"
counter: .long 0
	.text
	.global	main
main:
	pushq	$0
	movq    $counter, %r8 # lagt counter i register r8 (förslag)
	call 	inImage # camelcase inImage
inImage:
	movq	$buf, %rdi
	movq	$5, %rsi
	movq	stdin, %rdx
	call	fgets
getInt:
	movq	$buf,%rdi
	pushq	%r8 # pushar ett register istället för label 'counter' 
	call	checkifInt
checkifInt:
	popq	%rsi
	movq	(%rdi,%rsi),%rdi # raderat dubbla kommatecken
	cmpq	$32, %rdi
	je		continueloop
	cmpq	$43, %rdi
	je		continueloop
	cmpq	$45, %rdi
	je		continueloop
	cmpq	$48, %rdi
	jle		checkifnumber
	call 	endloop
checkifnumber:
	cmpq	$57, %rdi
	jle		continueloop
continueloop:
	pushq	%rdi
	incq	%r8 # ökar och pushar (?) registret som pekar på counter för dessa två rader
	pushq	%r8
	call	checkifInt
endloop:

